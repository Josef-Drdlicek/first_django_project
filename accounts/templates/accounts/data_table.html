{% extends 'accounts/base.html' %}
{% block title %}Moje data{% endblock %}

{% block content %}
    <h2 class="mb-4">Moje data</h2>
    <!-- Filtrovací formulář -->
    <form method="GET" class="mb-3">
        <div class="input-group">
            <input type="text" name="q" class="form-control" placeholder="Hledat podle názvu" value="{{ query }}">
            <button type="submit" class="btn btn-outline-primary">Filtrovat</button>
            <a href="{% url 'data_table' %}" class="btn btn-outline-danger">Reset</a>
        </div>
    </form>

    <!-- Tabulka dat -->
    <table class="table table-striped table-bordered">
        <thead class="table-dark">
            <tr>
                <th>Název</th>
                <th>Popis</th>
                <th>Vytvořeno</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in data_entries %}
                <tr>
                    <td>{{ entry.title }}</td>
                    <td>{{ entry.description }}</td>
                    <td>{{ entry.created_at }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="3" class="text-center">Žádná data k zobrazení.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{% url 'add_data' %}" class="btn btn-primary">Přidat nová data</a>
{% endblock %}
